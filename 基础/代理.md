## 代理服务器

### 什么是代理服务器 ？

代理服务器，客户机在发送请求时，不会直接发送给目的主机，而是先发送给代理服务器，代理服务器受到请求后，向主机获取资源，存放到代理服务器的硬盘中，并回传给客户端。

![img](https://gitee.com/youngstory/images/raw/master/img/202111060849793.png)

### 为什么要使用代理服务器？

1. 访问速度快

   代理服务器会将从主机拿到的资源给自己存一份，客户端下次访问同样的站点数据时，直接从代理服务器硬盘中拿。

2. 安全

   代理服务器可以一些 行为过滤设置，充当防火墙的作用。

3. 通过代理服务器访问不能访问的目标站点

   如翻墙，就是我们使用代理，让他去帮我们去访问外网。

## 正向代理和反向代理

### 正向代理

正向代理，**架设在客户机和目标主机之间**，只用于代理内部网络对 Internet的连接请求，**客户端必须指定代理服务器的IP地址，还有代理程序的端口**，并将本来要直接发送到 Web 服务器上的http请求 发送到代理服务器中。 

![img](https://gitee.com/youngstory/images/raw/master/img/202111060859088.png)

用途：

1. 访问原来无法访问的资源，如google
2. 可以做缓存，加速访问资源
3. 对客户端访问授权，上网进行认证
4. 代理可以记录用户访问记录，对外隐藏用户信息

### 反向代理

客户端不需要任何配置就可以访问。

**反向代理服务器架设在服务端**，通过缓冲经常被请求页面来缓解服务器的工作量，将客户机请求转发给内部网络上的目标服务器；并将从服务器上得到的结果返回给Internet上请求连接的客户端，此时代理服务器与目标主机一起对外表现为一个服务器。

![img](https://gitee.com/youngstory/images/raw/master/img/202111060909020.png)

用途：

1. 保证内网的安全，可以使用反向代理提供WAF功能，阻止web攻击
2. 负载均衡，通过反向代理服务器来优化网站的负载