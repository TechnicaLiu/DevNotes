！！！每天记得先更新一波代码  防止后期提交发生冲突

# 考试管理系统（PC端）

## 进度

- [x] PC端换皮肤
- [x] 移动端换皮肤
- [x] 统计分析页面  布局实现
- [x] 添加生成二维码
- [x] 统计页面布局  字体大小  菜单栏 二级菜单 优化 
- [ ] 统计分析页面 功能实现
- [x] pc端考试页面 绿色版





## 分析



## 问题

1. echarts中 legend的**formatter** 格式化为 百分比  如: 单选题 5%

   ```js
   			formatter: function(name) {
               var data = option.series[0].data;
               var total = 0;
               var tarValue;
               for (var i = 0, l = data.length; i < l; i++) {
                 total += data[i].value;
                 if (data[i].name == name) {
                   tarValue = data[i].value;
                 }
               }
               var p = ((tarValue / total) * 100).toFixed(2);
               return name + " " + " " + p + "%";
             },
   ```

2. 给 min-width 属性禁用 一般 设 0 而不是none , 因为width是长度单位 

3. localStorage / sessionStorage 存储数据 要先将数据  JSON.stringlfy 化  ，取用数据时 JSON.parse 转换

4. Vue 自带的 删除对象属性  `this.$delete(obj,key)`

5. 当 echarts 数据量少的时候，可以通过这种方式 不用自定义ledend 又方便渲染数据

   ```js
    api.get("/statistic/statisticExamTotal").then(res => {
           this.pieChartOptionData.series[0].data = [{
             value: res.notStart,
             name: "未开始  " + res.notStart + '  场'
           },
           {
             value: res.examing,
             name: "进行中  " + res.examing + '  场'
           },
           {
             value: res.finished,
             name: "已结束  " + res.finished + '  场'
           }
           ];
         });
       },
   ```

6. 样式穿透 

   针对于在 scoped 文件中 设置的样式在第三方组件中不生效的问题

   在css中 可以使用  >>>  , 在scss中 可以使用 /deep/ 或者 ::v-deep 来解决 

   注意：/deep/ 不能嵌套使用，否则内部的样式会不生效

7. 防止鼠标多次点击

   ```js
   //防止多次连续点击提交
   Vue.directive('preventReClick', {
     inserted(el, binding) {
       el.addEventListener('click', () => {
         if (!el.disabled) {
           el.disabled = true
           setTimeout(() => {
             el.disabled = false
           }, binding.value || 2000)
         }
       })
     }
   })
   // 使用 
    <el-button v-preventReClick="3000" @click.native="cancel">关闭</el-button>
   ```

   









# 考试管理系统（移动端）

## 进度

- [x] 题目总数的动态展示 
- [x] 主题颜色的改变
  - [x] pc端  首页echarts图表颜色 （不可控制）
  - [x] 考试管理页面 
- [x] 页面弹框显示考试列表信息

## 问题：



## 总结：

**所作内容的了解：**

考试管理系统  - 移动端   功能点就是： 学生在移动端平台进行 **在线考试** /  **考试查询** 

这个产品是面向于学生群体，那么就应该有两大特点  简洁+高效， 

**基本流程：**学生登录自己的账号然后通过搜索或者从考试列表进入考试，考完试跳转到考试记录进行成绩查询和查看答案解析。

**两周任务 ：**

对登录页面   考试列表页面  考试记录页面  以及 一些考试或者考生信息的弹窗确认页面 的 布局实现和细节优化（flex布局和百分比布局，然后就是基本的操作功能实现。

**遇到的问题：**

1. 思路只局限于ui给的设计稿，忘了用户操作的连贯性。比如查看答题卡页面 ，只是把UI给的图实现了，但是少了进行 上一题/下一题的跳转按钮 。
2. 考试题目多样，有选择题 判断题 填空题 简答题，所以他们的布局是不同的，并不是统一写一个布局就能解决了。 
3. 数据量大的情况，如果采用分页按钮跳转不妥，最后采用了  触底加载更多数据技术 

优化建议：

1. 目前采用的flex布局+百分比布局，页面的大框架响应式效果实现了，但也存在着不足，就是 按钮 和 文字还是写死了用的px单位，并不能适应设备大小的改变。  

   建议采用 rem布局，基于页面根元素的布局方式，屏幕大小改变了，只要改变根元素大小，就可以实现放大发缩小

2. 页面的大体颜色可以通过 scss变量 控制 ， 适应后期颜色的调整。
3. 小程序的引入  更轻便
4. pc端 考试及格率 和 分数段统计报表展示 移动端 考试结果呈现 增加 成绩排行榜 

# 1.附录

## 1.1 PC开发规范

### 1.1.1 Vue官方规范

1. **组件名为多个单词，为避免冲突。使用大驼峰写法。**（首字母也要大写）

2. 组件的 Data 必须是一个函数，不能对象

3. props 定义至少需要指定 类型。 

   ```js
   props:{
     status:{
       type:String,
         required:true,
         validator:function(){
           return .. 
         }
           
     }
   }
   ```

4. v-for 中, :key必须写以保证维护内部组件及其子树的状态

5. v-for和v-if 不作用于同一DOM元素

6. 为组件样式作用域  scoped

7. components文件夹下的 组件  使用文件夹分类 

8. 自己创建组件，写 readme

9. 共用组件 只要跨页面  就放在 components

10. 模板中 简单表达式 （组件模板应该只包含简单的表达式，负责的表达式则应该重构为 计算属性 或方法）

11. **组件内 函数命名 采用 小驼峰**  

### 1.1.2 CSS规范

**CSS书写顺序：**

1.位置属性(position, top, right, z-index, display, float等)
2.大小(width, height, padding, margin)
3.文字系列(font, line-height, letter-spacing, color- text-align等)
4.背景(background, border等)
5.其他(animation, transition等)

**尽量使用CSS 缩写属性**

**去掉小数点前的 “0”**

```css
font-size: .8rem
```

**16进制颜色代码缩写** 

**css选择器长名称/词组可以使用  中横线 来命名** 

为选择器添加状态前缀  

### 1.1.2前端自测规范

- 点击可操作性的元素鼠标变手型，可点击的模块要有hover的效果
- 空页面或者空数据的缺省展示，**缺省图片或者空数据显示为 ’-‘**
- 页面更新或者切换时滚动条置顶（如查看政策法规详情，在当前页面进行上一篇或下一篇时）
- 百分比数据显示小数点后2位
- 金额相关，每3位逗号分隔，小数点后显示2位，列表展示右对齐，输入框只能输入数字
- 文字过长时省略号显示 + hover效果（尽量不做折行，表头查询和详情类除外）
- 下载文件时，当文件路径中有中文时需要转义（encodeURI），否则有IE兼容问题
- 组件的样式穿透不能嵌套两层使用（/deep/），里层不会生效（另，/deep/不要写在scss文件中）
- 表单的placeholder自测
- 表单要做通用规则的校验，例如身份证号、手机号等（vue-common中有提供regexp.js的公共正则方法库，欢迎大家补充更新）
- 分开两个组件使用的时间范围，注意规则（开始>结束，结束<开始，日期可以使用组件原生的方法，日期时间的组件不能作用到时分秒，需要手动触发校验规则）
- 列表或表单的呼应数据排列在一起，如起点和终点
- 弹窗表单关闭时，需要置空表单并去掉表单校验
- 表单项如果是input输入框时，做表单首尾空格的非法字符校验
- 列表列宽布局（内容需要有列宽权重）
- 对表格数据进项操作时，需要根据操作不同，对表单进行不同处理。如，增加：表头不重置、分页到第一页并请求；删除：表头不重置、分页到第一页并请求；编辑：表头不重置、分页不更新请求；查询：表头更新、分页到第一页并请求；重置：表头更新、分页到第一个页并请求；
- 删除、发布等危险或需要注意的操作，点击需要加二次确认框，确认用户操作（开发时使用Element的 this.$comfirm命令）
- 带头部查询的列表，头部查询的显示字段要和列表中的字段一致
- 表格头部查询，input输入框类型，查询时，去掉首尾空格（TabelSearch组件已内置处理）

## 1.2 移动端开发规范



## 1.3 提交规范

### 1.3.1 SVN规范

- **type--**具体类型

- **新增：**新需求开发，新特性

- **修改：**需求变更引起的需求修改

- **文档：**文档变更（组件的readme等）

- **样式：**css样式修改，不影响代码逻辑问题

- **重构：**非新需求开发和bug修复性质的代码优化、代码重构等

- **修正：**缺陷修改（测试或自测）

- **对接：**对接数据引起的修改

- **合并**：修改完分支的代码后，合并到主干上时

  例如：

- 新增【运输管理】（客运站信息）：列表及筛选功能的开发及对接

- **合并**【运输管理】（客运站信息）：列表及筛选功能的开发及对接

- 新增【工作台】（工作台首页）：增加了行政审批待办事项

- 修正【交通战备APP】（缺陷编号）：缺陷描述

- 重构【安全监督】（影响路由）：剥离用户权限重构路由

- 对接【PC端领导视图】（高速领导视图）：对接数据接口修改





