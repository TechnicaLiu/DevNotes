## 微信小程序生命周期

### 应用生命周期

App( ) 必须在app.js中调用，必须调用且只能调用一次，app.js中定义了一些应用的生命周期函数 

1. onLaunch: **初始化小程序时触发**，全局只触发一次
2. onShow：**小程序初始化完成**或用户从后台切换到前台显示时触发
3. onHide：用户从前台切换到后台隐藏时触发
4. onError：小程序发生脚本错误，或者api调用失败时，会触发onError并带上错误信息 

### 页面生命周期

js文件中定义了一些页面生命周期函数，下面简述下这些生命周期函数的方法作用

1. onLoad : **首次进入页面加载时触发**，可以在 onLoad 的参数中获取打开当前页面路径中的参数。
2. onShow : 加载完成后，后台切到前台或重新进入页面时触发 
3. onReady: 页面首次渲染完成时触发
4. onHide: 从前台到后台或进入其他页面触发
5. onUnload：页面卸载时触发

### 应用及页面生命周期的触发顺序

1. 首次进入小程序会先触发应用生命周期中的 onLaunch方法和onShow方法，其次触发页面生命周期中onLoad、onShow和onReady方法。

![image-20211022100557248](https://gitee.com/youngstory/images/raw/master/img/202110221005642.png)

2. 前台切换到后台时，先触发页面生命周期中onHide方法，再触发应用生命周期的onHide方法。  ![image-20211022100702123](https://gitee.com/youngstory/images/raw/master/img/202110221007175.png)
3. 后台切换到前台时，先触发应用生命周期中onShow方法，再触发页面生命周期的onShow方法。![image-20211022100655276](https://gitee.com/youngstory/images/raw/master/img/202110221006332.png)