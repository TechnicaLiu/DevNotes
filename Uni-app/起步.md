### Uni-app

#### 简介

1. uni-app是一套可以适用多端的开源框架，一套代码可以同时生成ios，Android，H5，微信小程序，支付宝小程序，百度小程序等。
2. 对前端开发人员友好，采用Vue的语法，和微信小程序的API ,开发速度快
3.  **国产骄傲**

#### 基本语法

1. 发起 网络请求   uni.request 

2.  点击按钮返回顶部 

   ``` vue
   uni.pageScrollTo({
   	scrollTop:0
   })
   ```

3. 

#### api封装

1. 

#### 跨域问题

##### 什么是跨域？

​	定义：**跨域是指从一个域名的网页去请求另一个域名的资源**。但是一般情况下不能这么做，它是由浏览器的同源策略造成的，是浏览器对JavaScript施加的安全限制。跨域严格一点的定义是：只要协议，域名，端口有任何一个的不同，就被当作是跨域同源策略

1.  CORS policy: No 'Access-Control-Allow-Origin'  不允许跨越(不符合同源策略)
2. 同源策略： 协议（http,https） 域名，端口 都必须相同。

##### 解决方法   [uni.scss](F:\Hbuilder项目\Sale\uni.scss) 

 **(1)服务器 Cors 配置（重要）**，（2）jsonp （3）框架中配置 服务代理

``` js
// koa2 ：app.js中 
     安装 : npm install koa-cors --save 模块
	 
// 1. 导入模块
     const cors = require("koa-cors");
// 2. 配置
     app.use(async (ctx, next) => {
     ctx.set("Access-Control-Allow-Origin"); // 跨域访问
     ctx.set("Access-control-Allow-Methods", "*");  // 接受任意域名的请求
     ctx.set("Access-Control-Max-Age", 1728000);
     ctx.set(
     "Access-control-Allow-Headers",
     "X-Requested-With,content-type,Authorization"
     ); // 设置接收携带Authorization的请求
     await next();
     }); 
     app.use(cors());
```



 

